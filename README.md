
# Разработка HTTP-балансировщика нагрузки на Go

## Описание
Этот проект представляет собой простой веб-сервер, написанный на языке Go, с функциями балансировки нагрузки.  
Функционал включает:
- Перенаправление запросов на бэкенд в случае перезагрузки принимающего сервера. Запросы делаются через URL, например, "http://localhost:8080?client_id=user123". При успешной обработке запроса на странице будет выведен URL бэкенда, на который был перенаправлен запрос.
- Возможность задавать емкость и скорость для каждого пользователя с использованием rate limiter. Это можно сделать через URL, например, "http://localhost:8080/ratelimit?client_id=user123&capacity=50&rate=5". При выполнении запроса на странице будет отображено сообщение о результате операции.

## Особенности
- **Graceful Shutdown** — корректное завершение работы сервера.
- **Health Check** — проверка состояния сервера.
- **Docker** — база данных запускается в Docker-контейнере с использованием `docker-compose.yml`.
- **Конфигурация** — возможность задавать дефолтные лимиты через конфигурационный файл.
- **Round Robin** — метод распределения нагрузки.
- **Rate Limiting** — возможность устанавливать различные емкости и скорости для пользователей.

## Как запустить

### Требования
- Go версии 1.21 или выше.
- Установленный браузер (Chrome, Firefox, Safari и т.д.).

### Инструкция по запуску
1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/ternaryinvalid/balancer.git
    cd balancer
    ```

2. Запустите сервисы через Docker:

    ```bash
    docker-compose up --build
    ```

3. Запустите приложение:

    ```bash
    go run main.go
    ```

4. Откройте браузер и перейдите по адресу:

    - Для перенаправления на бэкенд:
      ```
      http://localhost:8080?client_id=user123
      ```
    - Для настройки rate limiting:
      ```
      http://localhost:8080/ratelimit?client_id=user123&capacity=50&rate=5
      ```
